<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body onload="getTimeZone()">
<h1>Contact</h1>
<h2><a href="{{ url_for('index') }}">Go to the main page</a></h2>

<form action="" method="post">

    {{ form.csrf_token }}
    <p hidden>{{ form.tz }}</p>

    {% for field in form if field.name != 'csrf_token' %}
        {% if field.name == 'tz' %}
            {{ field.name|replace(field.name, "") }}
        {% else %}
            <p>{{ field.label() }}</p>
            <p>{{ field }}
                {% for error in field.errors %}
                    {{ error }}
                {% endfor %}
            </p>
        {% endif %}
    {% endfor %}
</form>


<script type="text/javascript">

    let tz = document.getElementById("tz");

    function getTimeZone() {
        tz.value = (Intl.DateTimeFormat().resolvedOptions().timeZone)
    }

</script>

</body>
</html>